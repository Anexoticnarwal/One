<section>
  <a href="#mindfulness" class="card">
    <h2>🌸 Mindful Quotes</h2>
    <p>Swipe left or right to receive gentle inspiration.</p>
  </a>
  <a href="#growth" class="card">
    <h2>📝 Personal Reflections</h2>
    <p>Capture your thoughts, dreams, and intentions.</p>
  </a>
</section>

<section id="mindfulness" class="section-pad">
  <h2>🌸 Mindful Quotes</h2>
  <p>Swipe left or right (or use arrow keys) to reveal a new quote.</p>
  <div id="quote">Swipe to begin...</div>
</section>

<section id="growth" class="section-pad">
  <h2>📝 Personal Reflections</h2>
  <p>Write freely. This notepad saves your thoughts locally, so you can return anytime.</p>
  <textarea id="notepad" placeholder="Start writing..."></textarea>
</section>

<footer>
  &copy; 2025 Inner Sanctuary. Breathe. Reflect. Grow.
</footer>

<script>
  // Floating particles
  const canvas = document.getElementById('particles');
  const ctx = canvas.getContext('2d');
  let particles = [];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  document.addEventListener('mousemove', e => {
    for (let i = 0; i < 5; i++) {
      particles.push({
        x: e.clientX,
        y: e.clientY,
        size: Math.random() * 4 + 1,
        alpha: 1,
        dx: (Math.random() - 0.5) * 2,
        dy: (Math.random() - 0.5) * 2
      });
    }
  });

  function animateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach((p, i) => {
      p.x += p.dx;
      p.y += p.dy;
      p.alpha -= 0.01;
      if (p.alpha <= 0) particles.splice(i, 1);
      else {
        ctx.fillStyle = `rgba(0,150,136,${p.alpha})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
      }
    });
    requestAnimationFrame(animateParticles);
  }
  animateParticles();

  // Notepad save/load
  const notepad = document.getElementById('notepad');
  notepad.value = localStorage.getItem('notepad') || '';
  notepad.addEventListener('input', () => {
    localStorage.setItem('notepad', notepad.value);
  });

  // Mindful Quotes
  const quotes = [
    "You are enough, just as you are.",
    "Peace begins with a deep breath.",
    "The obstacle is the path. — Zen Proverb",
    "Small steps every day lead to big change.",
    "Your thoughts shape your reality.",
    "Let go of what no longer serves you.",
    "Joy is a decision, not a condition.",
    "Be kind to yourself. You’re doing your best."
  ];
  let quoteIndex = 0;
  const quoteDiv = document.getElementById('quote');

  function showQuote(index) {
    quoteDiv.style.opacity = 0;
    setTimeout(() => {
      quoteDiv.textContent = quotes[index];
      quoteDiv.style.opacity = 1;
    }, 300);
  }

  showQuote(quoteIndex);

  function nextQuote() {
    quoteIndex = (quoteIndex + 1) % quotes.length;
    showQuote(quoteIndex);
  }

  function prevQuote() {
    quoteIndex = (quoteIndex - 1 + quotes.length) % quotes.length;
    showQuote(quoteIndex);
  }

  document.addEventListener('keydown', e => {
    if (e.key === 'ArrowRight') nextQuote();
    if (e.key === 'ArrowLeft') prevQuote();
  });

  let touchStartX = null;
  document.addEventListener('touchstart', e => {
    touchStartX = e.changedTouches[0].screenX;
  });

  document.addEventListener('touchend', e => {
    const touchEndX = e.changedTouches[0].screenX;
    if (touchStartX !== null) {
      if (touchEndX < touchStartX - 50) nextQuote();
      else if (touchEndX > touchStartX + 50) prevQuote();
      touchStartX = null;
    }
  });
</script>
